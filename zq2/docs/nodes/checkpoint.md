---
id: nodes/checkpoint
title: Checkpoint 
---

Checkpoints in nodes serve as specific reference points within the blockchain, 
allowing nodes to synchronize more efficiently when joining or rejoining the network. 
Instead of processing the entire blockchain from the genesis block, nodes can start from 
a known, validated state. Below is a detailed guide on how to set up checkpoints.

## [Syncing a node from a checkpoint](#checkpoint-sync)
Assuming that you have already completed 
[setup node](../nodes/prototestnetnodes.md#setting-up-your-environment-and-building-zq2-node) section.

For prototestnet network, you should have `zq2-prototestnet.toml` and the `start_node.sh` 
script, which is generated by the [setup node](../nodes/prototestnetnodes.md#setting-up-your-environment-and-building-zq2-node) guide.

### Step by step guide to do checkpoint configuration

1. Ensure that you are in directory `/my/dir/zq2` that you created before during the setup.  
2. **Download the checkpoints file:**   
Here are the steps for downloading the latest checkpoint file.
    - Visit the public [checkpoint url](https://checkpoints.zq2-devnet.zilliqa.com/) , where you will see an XML file.
    - The key tag indicates the name of the file. For eg: `000291600.dat` is one of the checkpoint file.
    - Copy the topmost <block_num.dat> file name from the key tag. Note that the topmost file has the latest checkpoint data.
    - If you are interesting in syncing from an older checkpoint, copy the file from the `previous/` directory. 
    - Replace <block_num.dat> in the URL with the corresponding block number to form `https://checkpoints.zq2-devnet.zilliqa.com/<block_num.dat>`
    for latest file or `https://checkpoints.zq2-devnet.zilliqa.com/previous/<block_num.dat>` for an older file.
    - A prompt will appear, allowing you to save the file.Copy the file into `/my/dir/zq2`, the directory you previously created for settting up the node.

Additionally, to identify the latest checkpoint file, refer to the [explorer](https://explorer.zq2-prototestnet.zilliqa.com).
and select the file that corresponds to the block number closest to the current block number.  
3. **Configure Checkpoints in zq2-prototestnet.toml file:**  
Open the `zq2-prototestnet.toml` file and add the following lines to enable 
  checkpoint settings:
```toml
[nodes.load_checkpoint]
file = "xxxxx..." # File name of the checkpoint block. for eg: 3000.dat
hash = "xxxxx..." # Block hash corresponding to the file block (Remove '0x' prefix from hash if present)
```
`file` : This parameter specifies the name of the checkpoint or block number file, which
can be obtained from the public GCS bucket. Itâ€™s recommended to download the latest checkpoint
file from this source.  
`hash` : The hash is used to verify the validity of the state data and ensure that no 
tampering has occurred. You can obtain the block hash corresponding to the checkpoint height from the 
public [explorer](https://explorer.zq2-prototestnet.zilliqa.com/). For example, if the downloaded 
checkpoint file is 3000, you can use the `eth_getBlockByNumber` API to query the block hash:
```bash
curl --request POST --url https://api.zq2-prototestnet.zilliqa.com/ \
--header 'Content-Type: application/json' \
--data '{"method":"eth_getBlockByNumber","params":["0xBB8",false],"id":1,"jsonrpc":"2.0"}' \
| grep -o '"hash":"[^"]*"' | awk -F':' '{print $2}' | tr -d '"'
```
Alternatively, you can retrieve the block hash directly from the public 
[explorer](https://explorer.zq2-prototestnet.zilliqa.com/) by searching 
for the block number.  
By this stage, your checkpoints configuration should be set up in the `zq2-prototestnet.toml` file.  
4. **Launch the node**  
Now the node is ready to launch. Follow the instructions in the [Start the Node](../nodes/prototestnetnodes.md#start-the-node) section to start your node.
